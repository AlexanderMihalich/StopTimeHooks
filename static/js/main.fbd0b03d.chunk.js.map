{"version":3,"sources":["components/Header/Header.module.scss","state/app-reducer.js","state/store.js","selectors/app-selectors.js","hoc/withSuspense.js","components/common/PreloaderApp/PreloaderApp.js","assets/img/logo.png","components/Header/Header.js","components/Header/HeaderContainer.js","assets/img/background.jpg","components/Background/Background.js","components/Navbar/Navbar.js","App.js","index.js","state/auth-reducer.js","selectors/auth-selectors.js","assets/img/loader.svg","state/profile-reducer.js","state/dialogs-reducer.js","api/api.js","utils/object-helpers.js","assets/img/user/1.jpg","assets/img/user/2.jpg","assets/img/user/3.jpg","assets/img/user/4.jpg","assets/img/user/5.jpg","assets/img/user/6.jpg","assets/img/user/7.jpg","assets/img/user/8.jpg","assets/img/user/9.jpg","state/users-reducer.js"],"names":["module","exports","INITIALIZED_SUCCES","initialState","initialized","appReducer","state","action","type","reducers","combineReducers","profilePage","profileReducer","messagesPage","dialogsReducer","usersPage","usersReducer","auth","authReducer","form","formReducer","app","store","createStore","applyMiddleware","thunkMiddleware","window","getInitialized","withSuspense","Component","Suspense","fallback","PreloaderApp","className","alt","src","preloader","Header","isAuth","login","logout","style","header","cn","header__content","header__logo","header__stop","logo","header__img","header__login","header__rowUser","header__user","onClick","header__btn","to","compose","connect","getIsAuth","getLogin","Background","backgroundImage","Navbar","useState","isActive","setIsActive","activeClassName","id","data-name","xmlns","viewBox","fill","d","ProfileContainer","React","lazy","DialogsContainer","UsersContainer","Error404","Login","initializeApp","dispatch","promise","getAuthUserData","Promise","all","then","useEffect","HeaderContainer","exact","path","render","ReactDOM","document","getElementById","SET_USER_DATA","GET_CAPTCHA_URL_SUCCESS","userId","email","captchaUrl","setAuthUserData","captcha","payload","getCaptchaUrlSuccess","a","authAPI","me","responce","data","resultCode","password","rememberMe","getCaptchaUrl","message","messages","length","stopSubmit","_error","securityAPI","url","getCaptchaUrlState","getUserId","ADD_POST","SET_USER_PROFILE","SET_USER_STATUS","SAVE_PHOTO_SUCCESS","posts","img","profile","status","photos","addPost","newPostText","setUserStatus","getUserProfile","profileAPI","getProfile","getUserStatus","getStatus","updateUserStatus","updateStatus","savePhoto","file","saveProfile","getState","reject","newPost","SEND_MESSAGE","dialogs","user","avatar","newMessage","sms","newMessageText","sendMessage","instance","axios","withCredentials","baseURL","headers","get","put","photoFile","formData","FormData","append","usersAPI","getUsers","currentPage","pageSize","buttonUnfollow","delete","buttonFollow","post","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_USERS_TOTAL_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalItemsCount","isFetching","followingInPropgress","userBackground","img1","img2","img3","img4","img5","img6","img7","img8","img9","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toogleFolowingProgress","requestUsers","totalCount","count","followUnfollow","aipMethod","actionCreator","unfollow","bind","follow","followed","filter"],"mappings":"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","file":"static/js/main.fbd0b03d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__14nFE\",\"header__content\":\"Header_header__content__1PEdl\",\"header__stop\":\"Header_header__stop__31E9b\",\"header__logo\":\"Header_header__logo__3kfwf\",\"header__img\":\"Header_header__img__3w9Wx\",\"header__login\":\"Header_header__login__3hZkh\",\"header__rowUser\":\"Header_header__rowUser__3FW-r\",\"header__btn\":\"Header_header__btn__2hxSq\"};","import { getAuthUserData } from './auth-reducer';\r\n\r\nconst INITIALIZED_SUCCES = 'INITIALIZED_SUCCES'\r\n\r\nlet initialState = {\r\n\tinitialized: false,\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase INITIALIZED_SUCCES:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tinitialized: true\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const initializedSucces = () => ({ type: INITIALIZED_SUCCES })\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n\tconst promise = dispatch(getAuthUserData())\r\n\tPromise.all([promise]).then(() => {\r\n\t\tdispatch(initializedSucces())\r\n\t})\r\n}\r\n\r\nexport default appReducer","import { applyMiddleware, combineReducers, createStore } from 'redux';\r\nimport profileReducer from './profile-reducer';\r\nimport dialogsReducer from './dialogs-reducer';\r\nimport usersReducer from './users-reducer';\r\nimport authReducer from './auth-reducer';\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from './app-reducer';\r\n\r\nlet reducers = combineReducers({\r\n\tprofilePage: profileReducer,\r\n\tmessagesPage: dialogsReducer,\r\n\tusersPage: usersReducer,\r\n\tauth: authReducer,\r\n\tform: formReducer,\r\n\tapp: appReducer,\r\n})\r\n\r\nlet store = createStore(reducers, applyMiddleware(thunkMiddleware))\r\n\r\nexport default store\r\nwindow.store = store\r\n","export const getInitialized = (state) => {\r\n\treturn state.app.initialized\r\n}","import React from 'react'\r\n\r\nexport const withSuspense = (Component) => {\r\n\r\n\treturn () => (\r\n\t\t<React.Suspense fallback={<div>Loading ...</div>}>\r\n\t\t\t<Component />\r\n\t\t</React.Suspense>\r\n\t)\r\n}","import React from 'react'\r\nimport preloader from '../../../assets/img/loader.svg'\r\nimport './PreloaderApp.scss'\r\n\r\nconst PreloaderApp = () => {\r\n\treturn (\r\n\t\t<div className='preloaderApp'>\r\n\t\t\t<img alt=\"\" src={preloader} />\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default PreloaderApp","export default __webpack_public_path__ + \"static/media/logo.a88228e2.png\";","import React from 'react'\r\nimport style from './Header.module.scss'\r\nimport { NavLink } from 'react-router-dom';\r\nimport logo from '../../assets/img/logo.png'\r\nimport cn from 'classnames';\r\n\r\nconst Header = ({ isAuth, login, logout }) => {\r\n\r\n\treturn (\r\n\t\t<header className={style.header}>\r\n\t\t\t<div className={cn(style.header__content, \"_container\")}>\r\n\t\t\t\t<div className={style.header__logo} >\r\n\t\t\t\t\t<div className={style.header__stop}>\r\n\t\t\t\t\t\tSt<span><img alt=\"\" src={logo} className={style.header__img} />p</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<sub>time</sub>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={style.header__login}>\r\n\t\t\t\t\t{isAuth\r\n\t\t\t\t\t\t? <div className={style.header__rowUser}><span className={style.header__user}> {login}</span> <button onClick={logout} className={style.header__btn}>Log out</button> </div>\r\n\t\t\t\t\t\t: <NavLink to={'/login'} >Login</NavLink>}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</header>\r\n\t)\r\n}\r\n\r\nexport default Header","import { connect } from 'react-redux';\r\nimport Header from './Header';\r\nimport { compose } from 'redux';\r\nimport { logout } from '../../state/auth-reducer';\r\nimport { getIsAuth, getLogin } from '../../selectors/auth-selectors';\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tisAuth: getIsAuth(state),\r\n\t\tlogin: getLogin(state)\r\n\t}\r\n}\r\nexport default compose(connect(mapStateToProps, { logout }))(Header)","export default __webpack_public_path__ + \"static/media/background.f3d3da61.jpg\";","import React from 'react'\r\nimport backgroundImage from '../../assets/img/background.jpg'\r\n\r\nconst Background = () => {\r\n\treturn (\r\n\t\t<div className=\"background\">\r\n\t\t\t<img alt=\"\" className=\"background__img\" src={backgroundImage} />\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Background\r\n","import React, { useState } from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport './Navbar.scss'\r\nimport cn from 'classnames';\r\n\r\nconst Navbar = () => {\r\n\r\n\tlet [isActive, setIsActive] = useState(false)\r\n\r\n\tconst clickActive = () => {\r\n\t\tsetIsActive(!isActive)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<nav className={isActive === true ? cn(\"nav\", \"_active\") : \"nav\"}>\r\n\t\t\t\t<ul className=\"nav__list\">\r\n\t\t\t\t\t<li><NavLink to={'/profile'} activeClassName=\"nav_active\">Profile</NavLink></li>\r\n\t\t\t\t\t<li><NavLink to={'/dialogs'} activeClassName=\"nav_active\">Messages</NavLink></li>\r\n\t\t\t\t\t<li><NavLink to={'/users'} activeClassName=\"nav_active\">Users</NavLink></li>\r\n\t\t\t\t\t<li><NavLink to={'/_'} activeClassName=\"nav_active\">Example Error</NavLink></li>\r\n\t\t\t\t</ul>\r\n\t\t\t</nav>\r\n\t\t\t<div className={isActive === true ? cn(\"nav__array\", \"_active\") : \"nav__array\"}>\r\n\t\t\t\t<svg id=\"Layer_1\" data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 200 200\" fill=\"#664796\" onClick={clickActive}>\r\n\t\t\t\t\t<path className=\"cls-1\" d=\"M82.28,140.5A5,5,0,0,1,78.75,132l32.18-32.19L78.75,67.59a5,5,0,0,1,7.07-7.07l35.72,35.73a5,5,0,0,1,0,7.07L85.82,139A5,5,0,0,1,82.28,140.5Z\" />\r\n\t\t\t\t\t<path className=\"cls-1\" d=\"M154.15,175.69H45.85a21.57,21.57,0,0,1-21.54-21.54V45.85A21.57,21.57,0,0,1,45.85,24.31h108.3a21.57,21.57,0,0,1,21.54,21.54v108.3A21.57,21.57,0,0,1,154.15,175.69ZM45.85,34.31A11.56,11.56,0,0,0,34.31,45.85v108.3a11.56,11.56,0,0,0,11.54,11.54h108.3a11.56,11.56,0,0,0,11.54-11.54V45.85a11.56,11.56,0,0,0-11.54-11.54Z\" />\r\n\t\t\t\t</svg>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default Navbar\r\n","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { HashRouter, Route, Switch, Redirect } from 'react-router-dom';\nimport { getInitialized } from './selectors/app-selectors';\nimport { initializeApp } from './state/app-reducer';\nimport { withSuspense } from './hoc/withSuspense';\nimport PreloaderApp from './components/common/PreloaderApp/PreloaderApp';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport Background from './components/Background/Background';\nimport Navbar from './components/Navbar/Navbar';\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'))\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'))\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer'))\nconst Error404 = React.lazy(() => import('./components/Error404/Error404'))\nconst Login = React.lazy(() => import('./components/Login/Login'))\n\n\nconst App = ({ initializeApp, initialized }) => {\n\n\tuseEffect(() => {\n\t\tinitializeApp()\n\t}, [initialized])\n\n\tif (!initialized) {\n\t\treturn <PreloaderApp />\n\t}\n\treturn (\n\t\t<HashRouter>\n\t\t\t<div className=\"wrapper\">\n\t\t\t\t<HeaderContainer />\n\t\t\t\t<main className='page'>\n\t\t\t\t\t<Background />\n\t\t\t\t\t<div className='page__content _container'>\n\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t<Route exact path='/'\n\t\t\t\t\t\t\t\trender={() => <Redirect to='/profile' />} />\n\t\t\t\t\t\t\t<Route path='/profile/:userId?'\n\t\t\t\t\t\t\t\trender={withSuspense(ProfileContainer)} />\n\t\t\t\t\t\t\t<Route path='/dialogs'\n\t\t\t\t\t\t\t\trender={withSuspense(DialogsContainer)} />\n\t\t\t\t\t\t\t<Route path='/users'\n\t\t\t\t\t\t\t\trender={withSuspense(UsersContainer)} />\n\t\t\t\t\t\t\t<Route path='/login'\n\t\t\t\t\t\t\t\trender={withSuspense(Login)} />\n\t\t\t\t\t\t\t<Route path='*'\n\t\t\t\t\t\t\t\trender={withSuspense(Error404)} />\n\t\t\t\t\t\t</Switch>\n\t\t\t\t\t\t<Navbar />\n\t\t\t\t\t</div>\n\t\t\t\t</main>\n\t\t\t</div>\n\t\t</HashRouter >\n\t);\n}\n\nconst mapStateToProps = (state) => ({\n\tinitialized: getInitialized(state)\n})\nexport default compose(connect(mapStateToProps, { initializeApp }))(App)\n","import React from 'react';\nimport { Provider } from 'react-redux';\nimport ReactDOM from 'react-dom';\nimport store from './state/store'\nimport App from './App';\nimport './assets/css/fonts.scss';\nimport './assets/css/null.scss';\nimport './assets/css/index.scss';\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<App />\n\t</Provider>, document.getElementById('root'));\n\n\n","import { authAPI, securityAPI } from '../api/api';\r\nimport { stopSubmit } from 'redux-form';\r\n\r\nconst SET_USER_DATA = 'auth-reducer/SET_USER_DATA'\r\nconst GET_CAPTCHA_URL_SUCCESS = 'auth-reducer/GET_CAPTCHA_URL_SUCCESS'\r\n\r\nlet initialState = {\r\n\tuserId: null,\r\n\temail: null,\r\n\tlogin: null,\r\n\tisAuth: false,\r\n\tcaptchaUrl: null\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase SET_USER_DATA:\r\n\t\tcase GET_CAPTCHA_URL_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t...action.payload\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth, captcha) => ({ type: SET_USER_DATA, payload: { userId, email, login, isAuth, captcha } })\r\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({ type: GET_CAPTCHA_URL_SUCCESS, payload: { captchaUrl } })\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n\tconst responce = await authAPI.me()\r\n\tif (!responce.data.resultCode) {\r\n\t\tlet { id, email, login } = responce.data.data\r\n\t\tdispatch(setAuthUserData(id, email, login, true))\r\n\t}\r\n}\r\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n\tconst responce = await authAPI.login(email, password, rememberMe, captcha)\r\n\tif (!responce.data.resultCode) {\r\n\t\tdispatch(getAuthUserData())\r\n\t} else {\r\n\t\tif (responce.data.resultCode === 10) {\r\n\t\t\tdispatch(getCaptchaUrl())\r\n\t\t}\r\n\t\tlet message = responce.data.messages.length > 0 ? responce.data.messages[0] : \"incorrect email or password\"\r\n\t\tdispatch(stopSubmit(\"login\", { _error: message }))\r\n\t}\r\n}\r\n\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n\tconst responce = await securityAPI.getCaptchaUrl()\r\n\tconst captchaUrl = responce.data.url\r\n\tdispatch(getCaptchaUrlSuccess(captchaUrl))\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n\tconst responce = await authAPI.logout()\r\n\tif (!responce.data.resultCode) {\r\n\t\tdispatch(setAuthUserData(null, null, null, false))\r\n\t}\r\n}\r\n\r\n\r\nexport default authReducer","export const getIsAuth = (state) => {\r\n\treturn state.auth.isAuth\r\n}\r\nexport const getLogin = (state) => {\r\n\treturn state.auth.login\r\n}\r\nexport const getCaptchaUrlState = (state) => {\r\n\treturn state.auth.captchaUrl\r\n}\r\nexport const getUserId = (state) => {\r\n\treturn state.auth.userId\r\n}","export default __webpack_public_path__ + \"static/media/loader.dcd6327c.svg\";","import { stopSubmit } from 'redux-form';\r\nimport { profileAPI } from '../api/api';\r\n\r\nlet ADD_POST = 'profile-reducer/ADD-POST'\r\nlet SET_USER_PROFILE = 'profile-reducer/SET_USER_PROFILE'\r\nlet SET_USER_STATUS = 'profile-reducer/SET_USER_STATUS'\r\nlet SAVE_PHOTO_SUCCESS = 'profile-reducer/SAVE_PHOTO_SUCCESS'\r\n\r\nlet initialState = {\r\n\tposts: [\r\n\t\t{ id: 1, img: 'https://www.soyuz.ru/public/uploads/files/2/7452690/20201216105432aed6fa04c9.jpg', message: \"It's our new program! Hey!\", },\r\n\t\t{ id: 2, img: 'https://cdnimg.rg.ru/i/gallery/3f26d604/3ad23133.jpg', message: \"Hey, why nobody love my?\", },\r\n\t],\r\n\tprofile: null,\r\n\tstatus: '',\r\n\tphotos: '',\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n\tswitch (action.type) {\r\n\t\tcase ADD_POST:\r\n\t\t\tlet newPost = {\r\n\t\t\t\tid: 3,\r\n\t\t\t\timg: 'https://www.soyuz.ru/public/uploads/files/2/7452690/20201216105432aed6fa04c9.jpg',\r\n\t\t\t\tmessage: action.newPostText,\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tposts: [...state.posts, newPost],\r\n\t\t\t\tnewPostText: ''\r\n\t\t\t}\r\n\t\tcase SET_USER_PROFILE:\r\n\t\t\treturn { ...state, profile: action.profile }\r\n\t\tcase SET_USER_STATUS:\r\n\t\t\treturn { ...state, status: action.status }\r\n\t\tcase SAVE_PHOTO_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state, profile: { ...state.profile, photos: action.photos }\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const addPost = (newPostText) => ({ type: ADD_POST, newPostText })\r\nexport const setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile })\r\nexport const setUserStatus = (status) => ({ type: SET_USER_STATUS, status })\r\nexport const savePhotoSuccess = (photos) => ({ type: SAVE_PHOTO_SUCCESS, photos })\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n\tconst responce = await profileAPI.getProfile(userId)\r\n\tdispatch(setUserProfile(responce.data))\r\n}\r\nexport const getUserStatus = (userId) => async (dispatch) => {\r\n\tconst responce = await profileAPI.getStatus(userId)\r\n\tdispatch(setUserStatus(responce.data))\r\n}\r\nexport const updateUserStatus = (status) => async (dispatch) => {\r\n\tconst responce = await profileAPI.updateStatus(status)\r\n\tif (!responce.data.resultCode) {\r\n\t\tdispatch(setUserStatus(status))\r\n\t}\r\n}\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n\tconst responce = await profileAPI.savePhoto(file)\r\n\tif (!responce.data.resultCode) {\r\n\t\tdispatch(savePhotoSuccess(responce.data.data.photos))\r\n\t}\r\n}\r\nexport const saveProfile = (data) => async (dispatch, getState) => {\r\n\tconst userId = getState().auth.userId\r\n\tconst responce = await profileAPI.saveProfile(data)\r\n\tif (!responce.data.resultCode) {\r\n\t\tdispatch(getUserProfile(userId))\r\n\t} else {\r\n\t\tdispatch(stopSubmit(\"edit-profile\", { _error: responce.data.messages[0] }))\r\n\t\treturn Promise.reject(responce.data.messages[0])\r\n\t}\r\n}\r\n\r\nexport default profileReducer","let SEND_MESSAGE = 'dialogs-reducer/SEND-MESSAGE'\r\n\r\nlet initialState = {\r\n\tdialogs: [\r\n\t\t{ id: 1, user: 'Stiven', avatar: 'https://debaty.sumy.ua/wp-content/uploads/2019/01/9_main_new.1506602508.jpg', },\r\n\t\t{ id: 2, user: 'Victor', avatar: 'https://www.soyuz.ru/public/uploads/files/2/7452690/20201216105432aed6fa04c9.jpg', },\r\n\t\t{ id: 3, user: 'Makar', avatar: 'https://www.mirf.ru/wp-content/uploads/2021/03/avatar-scaled-2560.jpg', },\r\n\t\t{ id: 4, user: 'Irma', avatar: 'https://sahiwal.tv/wp-content/uploads/2020/06/af4471294d3829d55ac2bedd3b91f4670206ef7d.png', },\r\n\t\t{ id: 5, user: 'Sveta', avatar: 'https://cdnimg.rg.ru/i/gallery/3f26d604/3ad23133.jpg', },\r\n\t\t{ id: 6, user: 'Valera', avatar: 'https://www.mirf.ru/wp-content/uploads/2021/03/mv5bmjixnti1mta0m15bml5banbnxkftztcwnzc3mtuzna._v1_sx1777_cr001777999_al_.jpg', },\r\n\t],\r\n\tmessages: [\r\n\t\t{ id: 1, message: 'Hi!', },\r\n\t\t{ id: 2, message: 'How is your study?', },\r\n\t\t{ id: 3, message: 'Yo', },\r\n\t\t{ id: 4, message: 'What Sapp', },\r\n\t\t{ id: 5, message: 'How are you', },\r\n\t\t{ id: 6, message: 'Welcome!', },\r\n\t],\r\n\tnewMessage: [\r\n\t\t{ id: 1, sms: 'It\\'s new sms!', },\r\n\t],\r\n\tnewMessageText: '',\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n\tswitch (action.type) {\r\n\t\tcase SEND_MESSAGE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tnewMessage: [...state.newMessage, { id: 2, sms: action.newMessageText, }],\r\n\t\t\t\tnewMessageText: ''\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const sendMessage = (newMessageText) => ({ type: SEND_MESSAGE, newMessageText })\r\n\r\nexport default dialogsReducer\r\n","import * as axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n\twithCredentials: true,\r\n\tbaseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n\theaders: {\r\n\t\t\"API-KEY\": \"3712f6c1-4887-4236-8b7c-a5498a4c0274\"\r\n\t}\r\n})\r\n\r\nexport const profileAPI = {\r\n\tgetProfile(userId) {\r\n\t\treturn instance.get(`profile/${userId}`)\r\n\t},\r\n\tgetStatus(userId) {\r\n\t\treturn instance.get(`profile/status/${userId}`)\r\n\t},\r\n\tupdateStatus(status) {\r\n\t\treturn instance.put(`profile/status`, {\r\n\t\t\tstatus: status\r\n\t\t})\r\n\t},\r\n\tsavePhoto(photoFile) {\r\n\t\tconst formData = new FormData()\r\n\t\tformData.append('image', photoFile)\r\n\r\n\t\treturn instance.put(`profile/photo`, formData, {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'multipart/form-data'\r\n\t\t\t}\r\n\t\t})\r\n\t},\r\n\tsaveProfile(data) {\r\n\t\treturn instance.put(`profile`, data)\r\n\t},\r\n}\r\n\r\nexport const usersAPI = {\r\n\tgetUsers(currentPage = 1, pageSize = 10) {\r\n\t\treturn instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n\t\t\t.then(responce => responce.data)\r\n\t},\r\n\tbuttonUnfollow(userId) {\r\n\t\treturn instance.delete(`follow/${userId}`)\r\n\t\t\t.then(responce => responce.data)\r\n\t},\r\n\tbuttonFollow(userId) {\r\n\t\treturn instance.post(`follow/${userId}`, {})\r\n\t\t\t.then(responce => responce.data)\r\n\t},\r\n}\r\n\r\nexport const authAPI = {\r\n\tme() {\r\n\t\treturn instance.get(`auth/me`)\r\n\t},\r\n\tlogin(email, password, rememberMe = false, captcha = null) {\r\n\t\treturn instance.post(`auth/login`, { email, password, rememberMe, captcha })\r\n\t},\r\n\tlogout() {\r\n\t\treturn instance.delete(`auth/login`)\r\n\t},\r\n}\r\nexport const securityAPI = {\r\n\tgetCaptchaUrl() {\r\n\t\treturn instance.get(`security/get-captcha-url`)\r\n\t}\r\n}","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n\treturn items.map(u => {\r\n\t\tif (u[objPropName] === itemId) {\r\n\t\t\treturn { ...u, ...newObjProps }\r\n\t\t}\r\n\t\treturn u\r\n\t})\r\n}","export default __webpack_public_path__ + \"static/media/1.0a5732c1.jpg\";","export default __webpack_public_path__ + \"static/media/2.704d39c3.jpg\";","export default __webpack_public_path__ + \"static/media/3.8c78ebbc.jpg\";","export default __webpack_public_path__ + \"static/media/4.69943f40.jpg\";","export default __webpack_public_path__ + \"static/media/5.7082deaa.jpg\";","export default __webpack_public_path__ + \"static/media/6.350a4334.jpg\";","export default __webpack_public_path__ + \"static/media/7.8e56ff43.jpg\";","export default __webpack_public_path__ + \"static/media/8.15e2cb49.jpg\";","export default __webpack_public_path__ + \"static/media/9.fc2c4131.jpg\";","import { usersAPI } from '../api/api';\r\nimport { updateObjectInArray } from '../utils/object-helpers';\r\nimport img1 from '../assets/img/user/1.jpg'\r\nimport img2 from '../assets/img/user/2.jpg'\r\nimport img3 from '../assets/img/user/3.jpg'\r\nimport img4 from '../assets/img/user/4.jpg'\r\nimport img5 from '../assets/img/user/5.jpg'\r\nimport img6 from '../assets/img/user/6.jpg'\r\nimport img7 from '../assets/img/user/7.jpg'\r\nimport img8 from '../assets/img/user/8.jpg'\r\nimport img9 from '../assets/img/user/9.jpg'\r\n\r\nlet FOLLOW = 'users-reducer/FOLLOW'\r\nlet UNFOLLOW = 'users-reducer/UNFOLLOW'\r\nlet SET_USERS = 'users-reducer/SET_USERS'\r\nlet SET_CURRENT_PAGE = 'users-reducer/SET_CURRENT_PAGE'\r\nlet SET_USERS_TOTAL_COUNT = 'users-reducer/SET_USERS_TOTAL_COUNT'\r\nlet TOGGLE_IS_FETCHING = 'users-reducer/TOGGLE_IS_FETCHING'\r\nlet TOGGLE_IS_FOLLOWING_PROGRESS = 'users-reducer/TOGGLE_IS_FOLLOWING_PROGRESS'\r\n\r\nlet initialState = {\r\n\tusers: [],\r\n\tpageSize: 10,\r\n\ttotalItemsCount: 0,\r\n\tcurrentPage: 2,\r\n\tisFetching: true,\r\n\tfollowingInPropgress: [],\r\n\tuserBackground: [\r\n\t\t{ img: img1 },\r\n\t\t{ img: img2 },\r\n\t\t{ img: img3 },\r\n\t\t{ img: img4 },\r\n\t\t{ img: img5 },\r\n\t\t{ img: img6 },\r\n\t\t{ img: img7 },\r\n\t\t{ img: img8 },\r\n\t\t{ img: img9 },\r\n\t]\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase FOLLOW:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: updateObjectInArray(state.users, action.userId, 'id', { followed: true })\r\n\t\t\t}\r\n\t\tcase UNFOLLOW:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: updateObjectInArray(state.users, action.userId, 'id', { followed: false })\r\n\t\t\t}\r\n\t\tcase SET_USERS:\r\n\t\t\treturn { ...state, users: action.users }\r\n\t\tcase SET_CURRENT_PAGE:\r\n\t\t\treturn { ...state, currentPage: action.currentPage }\r\n\t\tcase SET_USERS_TOTAL_COUNT:\r\n\t\t\treturn { ...state, totalItemsCount: action.count }\r\n\t\tcase TOGGLE_IS_FETCHING:\r\n\t\t\treturn { ...state, isFetching: action.isFetching }\r\n\t\tcase TOGGLE_IS_FOLLOWING_PROGRESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state, followingInPropgress: action.isFetching\r\n\t\t\t\t\t? [...state.followingInPropgress, action.userId]\r\n\t\t\t\t\t: state.followingInPropgress.filter(id => id !== action.userId)\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId })\r\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId })\r\nexport const setUsers = (users) => ({ type: SET_USERS, users })\r\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage })\r\nexport const setItemsTotalCount = (totalItemsCount) => ({ type: SET_USERS_TOTAL_COUNT, count: totalItemsCount })\r\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching })\r\nexport const toogleFolowingProgress = (isFetching, userId) => ({ type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId })\r\n\r\nexport const requestUsers = (currentPage, pageSize) => async (dispatch) => {\r\n\tdispatch(toggleIsFetching(true))\r\n\tconst data = await usersAPI.getUsers(currentPage, pageSize)\r\n\tdispatch(toggleIsFetching(false))\r\n\tdispatch(setUsers(data.items))\r\n\tdispatch(setItemsTotalCount(data.totalCount))\r\n}\r\nconst followUnfollow = async (dispatch, userId, aipMethod, actionCreator) => {\r\n\tdispatch(toogleFolowingProgress(true, userId))\r\n\tconst data = await aipMethod(userId)\r\n\tif (!data.resultCode) {\r\n\t\tdispatch(actionCreator(userId))\r\n\t}\r\n\tdispatch(toogleFolowingProgress(false, userId))\r\n}\r\nexport const unfollow = (userId) => async (dispatch) => {\r\n\tfollowUnfollow(dispatch, userId, usersAPI.buttonUnfollow.bind(usersAPI), unfollowSuccess)\r\n}\r\nexport const follow = (userId) => async (dispatch) => {\r\n\tfollowUnfollow(dispatch, userId, usersAPI.buttonFollow.bind(usersAPI), followSuccess)\r\n}\r\n\r\nexport default usersReducer"],"sourceRoot":""}